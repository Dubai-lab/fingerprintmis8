@startuml
!theme plain
title Fingerprint MIS - Level 1 Data Flow Diagram (Main Processes)

' External entities
actor Admin as "Admin"
actor Instructor as "Instructor" 
actor Invigilator as "Invigilator"
actor Security as "Security Personnel"
actor Student as "Student"

' Main processes
circle "1.0" as P1
note right of P1 : User Management\nProcess
circle "2.0" as P2
note right of P2 : Course Management\nProcess
circle "3.0" as P3
note right of P3 : Attendance Management\nProcess
circle "4.0" as P4
note right of P4 : Fingerprint Processing\nProcess
circle "5.0" as P5
note right of P5 : Report Generation\nProcess
circle "6.0" as P6
note right of P6 : Security Verification\nProcess
circle "7.0" as P7
note right of P7 : Authentication\nProcess

' Data stores
database "D1" as D1
note bottom of D1 : Users
database "D2" as D2
note bottom of D2 : Courses
database "D3" as D3
note bottom of D3 : Attendance Records
database "D4" as D4
note bottom of D4 : Fingerprint Templates
database "D5" as D5
note bottom of D5 : Reports
database "D6" as D6
note bottom of D6 : Sessions

' External device
database "Fingerprint\nDevice" as FDevice

' Admin flows
Admin --> P7 : Login Credentials
P7 --> Admin : Authentication Status
Admin --> P1 : User Registration Data\nUser Management Commands
P1 --> Admin : User Management Results\nUser Statistics
Admin --> P2 : Course Creation Data\nCourse Management Commands
P2 --> Admin : Course Management Results
Admin --> P5 : Report Requests
P5 --> Admin : System Reports\nAttendance Reports

' Instructor flows
Instructor --> P7 : Login Credentials
P7 --> Instructor : Authentication Status
Instructor --> P2 : Course Data\nStudent Enrollment
P2 --> Instructor : Course Information\nStudent Lists
Instructor --> P3 : Attendance Session Data
P3 --> Instructor : Attendance Status\nAttendance Reports
Instructor --> P5 : Report Requests
P5 --> Instructor : Course Analytics\nAttendance Reports

' Invigilator flows
Invigilator --> P7 : Login Credentials
P7 --> Invigilator : Authentication Status
Invigilator --> P3 : Exam/CAT Attendance Data
P3 --> Invigilator : Attendance Reports\nExam Session Data

' Security flows
Security --> P7 : Login Credentials
P7 --> Security : Authentication Status
Security --> P6 : Verification Requests
P6 --> Security : Verification Results\nAccess Decisions

' Student flows
Student --> P1 : Registration Data
P1 --> Student : Registration Status
Student --> P4 : Fingerprint Data
P4 --> Student : Enrollment Status
Student --> P2 : Course Join Requests
P2 --> Student : Course Enrollment Status

' Process to data store flows
P1 <--> D1 : User Data
P2 <--> D2 : Course Data
P2 <--> D6 : Session Data
P3 <--> D3 : Attendance Records
P3 <--> D6 : Session Information
P4 <--> D4 : Fingerprint Templates
P5 <--> D3 : Attendance Data
P5 <--> D1 : User Data
P5 <--> D2 : Course Data
P5 --> D5 : Generated Reports
P6 <--> D1 : User Verification Data
P6 <--> D4 : Fingerprint Data
P7 <--> D1 : Authentication Data

' External device flows
P4 <--> FDevice : Fingerprint Capture\nTemplate Generation\nFingerprint Matching
P3 <--> FDevice : Attendance Verification

@enduml
