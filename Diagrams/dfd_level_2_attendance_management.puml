@startuml
!theme plain
title Fingerprint MIS - Level 2 DFD: Attendance Management Process (3.0)

' External entities
actor Instructor as "Instructor"
actor Invigilator as "Invigilator"
actor Student as "Student"

' Level 2 processes for Attendance Management
circle "3.1" as P31
note right of P31 : Attendance Session\nCreation Process
circle "3.2" as P32
note right of P32 : Fingerprint\nAttendance Capture
circle "3.3" as P33
note right of P33 : Attendance\nVerification Process
circle "3.4" as P34
note right of P34 : Absent Student\nMarking Process
circle "3.5" as P35
note right of P35 : Attendance Record\nManagement
circle "3.6" as P36
note right of P36 : Invigilator Attendance\nProcess
circle "3.7" as P37
note right of P37 : Attendance Report\nGeneration

' Data stores
database "D3.1" as D31
note bottom of D31 : Attendance Sessions
database "D3.2" as D32
note bottom of D32 : Attendance Records
database "D3.3" as D33
note bottom of D33 : Course Students
database "D3.4" as D34
note bottom of D34 : Fingerprint Templates
database "D3.5" as D35
note bottom of D35 : Invigilator Activities
database "D3.6" as D36
note bottom of D36 : Attendance Reports

' External device
database "Fingerprint\nDevice" as FDevice

' Instructor flows
Instructor --> P31 : Session Creation Data
P31 --> Instructor : Session Creation Status
Instructor --> P32 : Start Attendance Session
P32 --> Instructor : Attendance Status Updates
Instructor --> P34 : Mark Absent Command
P34 --> Instructor : Absent Marking Status
Instructor --> P35 : Attendance Management Commands
P35 --> Instructor : Attendance Records
Instructor --> P37 : Report Requests
P37 --> Instructor : Attendance Reports

' Invigilator flows
Invigilator --> P36 : Exam/CAT Attendance Data
P36 --> Invigilator : Attendance Status
Invigilator --> P37 : Report Requests
P37 --> Invigilator : Invigilator Reports

' Student flows (implicit through fingerprint)
Student --> P32 : Fingerprint Scan
P32 --> Student : Attendance Confirmation

' Process interactions
P31 --> P32 : Session Information
P32 --> P33 : Captured Fingerprint Data
P33 --> P35 : Verified Attendance Data
P34 --> P35 : Absent Student Data
P35 --> P37 : Attendance Data for Reports
P36 --> P35 : Invigilator Attendance Data

' Process to data store flows
P31 <--> D31 : Session Data
P31 <--> D33 : Course Student Lists

P32 <--> D31 : Session Information
P32 <--> D34 : Fingerprint Templates
P32 <--> FDevice : Fingerprint Capture\nTemplate Matching

P33 <--> D34 : Template Verification
P33 <--> D33 : Student Enrollment Status

P34 <--> D33 : Enrolled Students
P34 <--> D32 : Existing Attendance Records

P35 <--> D32 : Attendance Records
P35 <--> D31 : Session Updates

P36 <--> D35 : Invigilator Activities
P36 <--> D32 : Invigilator Attendance Records

P37 <--> D32 : Attendance Data
P37 <--> D31 : Session Data
P37 <--> D33 : Student Data
P37 --> D36 : Generated Reports

@enduml
