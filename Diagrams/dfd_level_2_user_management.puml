@startuml
!theme plain
title Fingerprint MIS - Level 2 DFD: User Management Process (1.0)

' External entities
actor Admin as "Admin"
actor Student as "Student"

' Level 2 processes for User Management
circle "1.1" as P11
note right of P11 : Student Registration\nProcess
circle "1.2" as P12
note right of P12 : Instructor Registration\nProcess
circle "1.3" as P13
note right of P13 : Invigilator Registration\nProcess
circle "1.4" as P14
note right of P14 : Admin Registration\nProcess
circle "1.5" as P15
note right of P15 : Security Registration\nProcess
circle "1.6" as P16
note right of P16 : User Verification\nProcess
circle "1.7" as P17
note right of P17 : User Profile Management\nProcess
circle "1.8" as P18
note right of P18 : Password Management\nProcess

' Data stores
database "D1.1" as D11
note bottom of D11 : Students
database "D1.2" as D12
note bottom of D12 : Instructors
database "D1.3" as D13
note bottom of D13 : Invigilators
database "D1.4" as D14
note bottom of D14 : Admins
database "D1.5" as D15
note bottom of D15 : Security Personnel
database "D1.6" as D16
note bottom of D16 : User Profiles
database "D1.7" as D17
note bottom of D17 : Authentication Data

' Admin flows
Admin --> P11 : Student Registration Data
P11 --> Admin : Student Registration Status
Admin --> P12 : Instructor Registration Data
P12 --> Admin : Instructor Registration Status
Admin --> P13 : Invigilator Registration Data
P13 --> Admin : Invigilator Registration Status
Admin --> P14 : Admin Registration Data
P14 --> Admin : Admin Registration Status
Admin --> P15 : Security Registration Data
P15 --> Admin : Security Registration Status
Admin --> P16 : User Verification Commands
P16 --> Admin : User Verification Results
Admin --> P17 : User Management Commands
P17 --> Admin : User Management Results
Admin --> P18 : Password Reset Commands
P18 --> Admin : Password Reset Status

' Student flows
Student --> P11 : Self Registration Data
P11 --> Student : Registration Status
Student --> P17 : Profile Update Data
P17 --> Student : Profile Update Status
Student --> P18 : Password Change Request
P18 --> Student : Password Change Status

' Process to data store flows
P11 <--> D11 : Student Data
P11 --> D16 : Student Profile Data
P11 --> D17 : Student Auth Data

P12 <--> D12 : Instructor Data
P12 --> D16 : Instructor Profile Data
P12 --> D17 : Instructor Auth Data

P13 <--> D13 : Invigilator Data
P13 --> D16 : Invigilator Profile Data
P13 --> D17 : Invigilator Auth Data

P14 <--> D14 : Admin Data
P14 --> D16 : Admin Profile Data
P14 --> D17 : Admin Auth Data

P15 <--> D15 : Security Data
P15 --> D16 : Security Profile Data
P15 --> D17 : Security Auth Data

P16 <--> D11 : Student Verification
P16 <--> D12 : Instructor Verification
P16 <--> D13 : Invigilator Verification
P16 <--> D15 : Security Verification

P17 <--> D16 : Profile Updates
P17 <--> D11 : Student Profile Updates
P17 <--> D12 : Instructor Profile Updates
P17 <--> D13 : Invigilator Profile Updates
P17 <--> D14 : Admin Profile Updates
P17 <--> D15 : Security Profile Updates

P18 <--> D17 : Password Updates
P18 <--> D11 : Default Password Status
P18 <--> D12 : Default Password Status
P18 <--> D13 : Default Password Status
P18 <--> D15 : Default Password Status

@enduml
